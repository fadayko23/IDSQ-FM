<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Interior Design Style Quiz Demo</title>
  </head>
  <body style="background:#ffffff; font-family: 'Inter', sans-serif; padding: 3rem; margin: 0; min-height: 100vh;">
    <div id="idsq-root"></div>

    <script src="./idsq-quiz.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        console.log('DOM loaded, checking IDSQ...');
        if (window.IDSQ) {
          console.log('IDSQ exists');
          if (typeof window.IDSQ.buildQuiz === 'function') {
            console.log('buildQuiz is a function, calling it...');
            try {
              window.IDSQ.buildQuiz({
                introVariant: 'guide-panel',
                // NOTE: For local testing only - credentials are here for convenience
                // In production/Webflow, these should be set via your Embed code
                webhook: {
                  url: 'https://hook.us1.make.com/mcd4xny5t7i089ep8slgzy8him3amay3',
                  headers: { 'x-make-apikey': 'b23f5a9d1e7a40a5c9d817d89e8d47f2' },
                  enable: true,
                },
                // Set to true to skip quiz and start at materials selection
                testMode: false,
                // Mock data for testing materials selection - auto-populate whole home
                // testData: {
                //   selectedSpace: 'general', // Whole home
                //   participantName: 'Test User',
                //   spacesRequested: [
                //     { id: 'kitchen', name: 'Kitchen' },
                //     { id: 'bathroom', name: 'Primary Bathroom' },
                //     { id: 'bedroom', name: 'Primary Bedroom' },
                //   ],
                //   finalStyle: {
                //     styleId: 'transitional',
                //     styleName: 'Transitional',
                //     description: 'Test transitional style description',
                //   }
                // }
              });
              console.log('buildQuiz called successfully');
            } catch (e) {
              console.error('Error calling buildQuiz:', e);
            }
          } else {
            console.error('buildQuiz is not a function');
          }
        } else {
          console.error('IDSQ object not found');
        }
      });
    </script>
  </body>
</html>